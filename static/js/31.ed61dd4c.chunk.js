(this.webpackJsonpmeropustakalaya=this.webpackJsonpmeropustakalaya||[]).push([[31],{303:function(e,t,n){e.exports={button:"style_button__gUISQ",outLineButton:"style_outLineButton__1ilmX",title:"style_title__2QX4I",titleResponsive:"style_titleResponsive__qndZA",bookMark:"style_bookMark__1mP2L",rating:"style_rating__2e3ns",logo:"style_logo__3U8MO",profileImage:"style_profileImage__2SgI4",profileImage_form:"style_profileImage_form__2gE_b",deleteButtonContainer:"style_deleteButtonContainer__3doxX"}},305:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(20),a=n(41),o=n(2),s=(n(1),n(303)),i=n.n(s);function u(e){var t=e.title,n=e.fontSize,s=e.color,u=e.responsive,l=e.fontWeight,c=Object(a.a)(e,["title","fontSize","color","responsive","fontWeight"]);return Object(o.jsx)("div",Object(r.a)(Object(r.a)({},c),{},{className:u?i.a.titleResponsive:i.a.title,style:{fontSize:n,color:s,fontWeight:l},children:t}))}},306:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),a=(n(1),n(303)),o=n.n(a),s=n(6);function i(e){var t=e.fontSize,n=e.color,a=Object(s.g)();return Object(r.jsx)("div",{className:o.a.logo,style:{fontSize:t,color:n},onClick:function(){return a.push("/meropustakalaya/")},children:Object(r.jsx)("span",{children:"Mero Pustakalaya"})})}},307:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(20),a=n(41),o=n(2),s=(n(1),n(303)),i=n.n(s),u=n(318),l=n.n(u);function c(e){var t=e.title,n=e.fontSize,s=e.isOutline,u=e.onClickFn,c=e.type,p=e.backgroundColor,f=e.textColor,d=e.styleObj,y=e.children,h=e.isSubmitting,v=Object(a.a)(e,["title","fontSize","isOutline","onClickFn","type","backgroundColor","textColor","styleObj","children","isSubmitting"]);return Object(o.jsx)("button",Object(r.a)(Object(r.a)({},v),{},{type:c,className:s?i.a.outLineButton:i.a.button,style:Object(r.a)({fontSize:n,background:p,color:f},d),disabled:h,onClick:u,children:h?Object(o.jsx)(l.a,{type:"ThreeDots",color:"white",height:15,width:50}):t?t.toUpperCase():y}))}},369:function(e,t,n){e.exports={container:"verifyEmailStyle_container__olxZJ",formContainer:"verifyEmailStyle_formContainer__2vaic",resendContainer:"verifyEmailStyle_resendContainer__29ypm",inputContainer:"verifyEmailStyle_inputContainer__3aawS",input:"verifyEmailStyle_input__3jt9T",error:"verifyEmailStyle_error__6GBc4",errorMessage:"verifyEmailStyle_errorMessage__1eeQv"}},370:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),u=(r=i)&&r.__esModule?r:{default:r};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){return"object"===("undefined"===typeof e?"undefined":s(e))},d=function(e){function t(){var e,n,r;l(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.getClasses=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return!f(e)&&!1!==e})).join(" ")},r.getType=function(){return r.props.isInputSecure?"password":r.props.isInputNum?"tel":"text"},c(r,n)}return p(t,e),o(t,[{key:"componentDidMount",value:function(){var e=this.input,t=this.props,n=t.focus,r=t.shouldAutoFocus;e&&n&&r&&e.focus()}},{key:"componentDidUpdate",value:function(e){var t=this.input,n=this.props.focus;e.focus!==n&&t&&n&&(t.focus(),t.select())}},{key:"render",value:function(){var e=this,t=this.props,n=t.placeholder,r=t.separator,o=t.isLastChild,s=t.inputStyle,i=t.focus,l=t.isDisabled,c=t.hasErrored,p=t.errorStyle,d=t.focusStyle,y=t.disabledStyle,h=(t.shouldAutoFocus,t.isInputNum),v=t.index,m=t.value,b=t.className,g=(t.isInputSecure,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["placeholder","separator","isLastChild","inputStyle","focus","isDisabled","hasErrored","errorStyle","focusStyle","disabledStyle","shouldAutoFocus","isInputNum","index","value","className","isInputSecure"]));return u.default.createElement("div",{className:b,style:{display:"flex",alignItems:"center"}},u.default.createElement("input",a({"aria-label":(0===v?"Please enter verification code. ":"")+(h?"Digit":"Character")+" "+(v+1),autoComplete:"off",style:Object.assign({width:"1em",textAlign:"center"},f(s)&&s,i&&f(d)&&d,l&&f(y)&&y,c&&f(p)&&p),placeholder:n,className:this.getClasses(s,i&&d,l&&y,c&&p),type:this.getType(),maxLength:"1",ref:function(t){e.input=t},disabled:l,value:m||""},g)),!o&&r)}}]),t}(i.PureComponent),y=function(e){function t(){var e,n,r;l(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={activeInput:0},r.getOtpValue=function(){return r.props.value?r.props.value.toString().split(""):[]},r.getPlaceholderValue=function(){var e=r.props,t=e.placeholder,n=e.numInputs;if("string"===typeof t){if(t.length===n)return t;t.length>0&&console.error("Length of the placeholder should be equal to the number of inputs.")}},r.handleOtpChange=function(e){(0,r.props.onChange)(e.join(""))},r.isInputValueValid=function(e){return(r.props.isInputNum?!isNaN(parseInt(e,10)):"string"===typeof e)&&1===e.trim().length},r.focusInput=function(e){var t=r.props.numInputs,n=Math.max(Math.min(t-1,e),0);r.setState({activeInput:n})},r.focusNextInput=function(){var e=r.state.activeInput;r.focusInput(e+1)},r.focusPrevInput=function(){var e=r.state.activeInput;r.focusInput(e-1)},r.changeCodeAtFocus=function(e){var t=r.state.activeInput,n=r.getOtpValue();n[t]=e[0],r.handleOtpChange(n)},r.handleOnPaste=function(e){e.preventDefault();var t=r.state.activeInput,n=r.props,a=n.numInputs;if(!n.isDisabled){for(var o=r.getOtpValue(),s=t,i=e.clipboardData.getData("text/plain").slice(0,a-t).split(""),u=0;u<a;++u)u>=t&&i.length>0&&(o[u]=i.shift(),s++);r.setState({activeInput:s},(function(){r.focusInput(s),r.handleOtpChange(o)}))}},r.handleOnChange=function(e){var t=e.target.value;r.isInputValueValid(t)&&r.changeCodeAtFocus(t)},r.handleOnKeyDown=function(e){8===e.keyCode||"Backspace"===e.key?(e.preventDefault(),r.changeCodeAtFocus(""),r.focusPrevInput()):46===e.keyCode||"Delete"===e.key?(e.preventDefault(),r.changeCodeAtFocus("")):37===e.keyCode||"ArrowLeft"===e.key?(e.preventDefault(),r.focusPrevInput()):39===e.keyCode||"ArrowRight"===e.key?(e.preventDefault(),r.focusNextInput()):32!==e.keyCode&&" "!==e.key&&"Spacebar"!==e.key&&"Space"!==e.key||e.preventDefault()},r.handleOnInput=function(e){if(r.isInputValueValid(e.target.value))r.focusNextInput();else if(!r.props.isInputNum){var t=e.nativeEvent;null===t.data&&"deleteContentBackward"===t.inputType&&(e.preventDefault(),r.changeCodeAtFocus(""),r.focusPrevInput())}},r.renderInputs=function(){for(var e=r.state.activeInput,t=r.props,n=t.numInputs,a=t.inputStyle,o=t.focusStyle,s=t.separator,i=t.isDisabled,l=t.disabledStyle,c=t.hasErrored,p=t.errorStyle,f=t.shouldAutoFocus,y=t.isInputNum,h=t.isInputSecure,v=t.className,m=[],b=r.getOtpValue(),g=r.getPlaceholderValue(),O=function(t){m.push(u.default.createElement(d,{placeholder:g&&g[t],key:t,index:t,focus:e===t,value:b&&b[t],onChange:r.handleOnChange,onKeyDown:r.handleOnKeyDown,onInput:r.handleOnInput,onPaste:r.handleOnPaste,onFocus:function(e){r.setState({activeInput:t}),e.target.select()},onBlur:function(){return r.setState({activeInput:-1})},separator:s,inputStyle:a,focusStyle:o,isLastChild:t===n-1,isDisabled:i,disabledStyle:l,hasErrored:c,errorStyle:p,shouldAutoFocus:f,isInputNum:y,isInputSecure:h,className:v}))},S=0;S<n;S++)O(S);return m},c(r,n)}return p(t,e),o(t,[{key:"render",value:function(){var e=this.props.containerStyle;return u.default.createElement("div",{style:Object.assign({display:"flex"},f(e)&&e),className:f(e)?"":e},this.renderInputs())}}]),t}(i.Component);y.defaultProps={numInputs:4,onChange:function(e){return console.log(e)},isDisabled:!1,shouldAutoFocus:!1,value:"",isInputSecure:!1},t.default=y},553:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var r=n(18),a=n.n(r),o=n(31),s=n(2),i=(n(1),n(6)),u=n(307),l=n(306),c=n(369),p=n.n(c),f=n(305),d=n(309),y=n(370),h=n.n(y),v=n(323),m=n(43);function b(){var e=Object(i.i)().email,t=Object(i.g)(),n=function(){var n=Object(o.a)(a.a.mark((function n(r,o){var s,i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(!0),n.next=4,m.a.post("/auths/resetPassword/sendOtp",{email:e});case 4:200===(s=n.sent).status&&"sucess"===s.data.status&&alert("OTP send SuccessFully."),r(!1),o(),n.next=18;break;case 10:if(n.prev=10,n.t0=n.catch(0),r(!1),n.t0.response){n.next=15;break}return n.abrupt("return",alert("Something went wrong. Check your internet connection"));case 15:i=n.t0.response.data,400!==n.t0.response.status||i.email?(alert("Something went very wrong please try again"),t.push("/meropustakalaya/access/login")):(alert(i.message),t.push("/meropustakalaya/access/login"));case 18:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e,t){return n.apply(this,arguments)}}(),r=function(){var n=Object(o.a)(a.a.mark((function n(r,o){var s,i,u,l,c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=o.setSubmitting,i=o.setFieldError,s(!0),n.prev=2,n.next=5,m.a.get("/auths/resetPassword/forgetVerifyCode/".concat(e,"/").concat(r.otp));case 5:u=n.sent,s(!1),200===u.status&&"success"===u.data.status&&(s(!1),t.push("/meropustakalaya/access/recover/password/".concat(e,"/").concat(r.otp))),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(2),l=n.t0.response.status,c=n.t0.response.data,400===l&&"invalid"===c.email?(alert("Invalid Email, Try again"),t.push("/meropustakalaya/access/login")):400===l&&"invalid"===c.otp||400===l&&"expired"===c.time?i("otp",c.message):(alert("Something went very wrong please try again"),s(!1),t.push("/meropustakalaya/access/login"));case 15:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(e,t){return n.apply(this,arguments)}}();return Object(s.jsxs)("div",{className:p.a.container,children:[Object(s.jsx)(l.a,{fontSize:"40px"}),Object(s.jsx)(f.a,{title:"Enter 4 digit OTP code",fontWeight:"bold",fontSize:"25px"}),Object(s.jsx)(d.d,{initialValues:{otp:""},validationSchema:v.b({otp:v.c().matches(/^[0-9]+$/,"Must be only digits").min(4,"Enter Your OTP code").max(4,"Enter Your OTP code").required("Enter your OTP")}),onSubmit:r,children:function(t){var r=t.values,a=t.errors,o=t.setFieldValue,i=t.isSubmitting,l=t.handleReset,c=t.setSubmitting;return Object(s.jsxs)(d.c,{className:p.a.formContainer,children:[Object(s.jsx)(f.a,{title:"An 4-digit code has been send to ".concat(e,".Enter code to reset your password.OTP will expires in 10 min"),fontSize:"16px"}),Object(s.jsx)(f.a,{title:"Enter your code",fontWeight:"bold"}),Object(s.jsx)(h.a,{id:"otp",value:r.otp,onChange:function(e){o("otp",e)},hasErrored:!!a.otp,errorStyle:p.a.error,containerStyle:p.a.inputContainer,inputStyle:p.a.input,isInputNum:!0,numInputs:4,focusStyle:p.a.focusStyle,separator:Object(s.jsx)("span",{children:"-"})}),Object(s.jsx)(d.a,{className:p.a.errorMessage,name:"otp",component:"span"}),Object(s.jsxs)("span",{className:p.a.resendContainer,children:["Didn't recive the code?",Object(s.jsx)("span",{onClick:function(){return n(c,l)},children:"Resend"})]}),Object(s.jsx)(u.a,{title:"Verify",type:"submit",isSubmitting:i})]})}})]})}}}]);
//# sourceMappingURL=31.ed61dd4c.chunk.js.map