{"version":3,"sources":["assets/TitleAsset.jsx","pages/users/style/style.module.scss","assets/BookmarkAsset.jsx","component/bookComponent/BookCard.jsx","templetes/CardTemplete.jsx","pages/users/book/components/style.module.scss","pages/users/book/components/CategoryCard.jsx","pages/users/book/components/CategoryComponent.jsx","pages/users/book/Books.jsx"],"names":["Title","title","fontSize","color","responsive","fontWeight","props","className","style","titleResponsive","module","exports","BookMark","bookId","toogler","dispatch","useDispatch","isLogin","useSelector","state","auth","isSave","savedBooks","includes","bookmarkHanlder","a","saveBook","Axios","post","bookMark","onClick","BookCard","imageURL","auther","rating","id","small","useState","isImageLoaded","setImageLoad","some","e","imageLoadingHandler","bookContainer_sm","bookContainer","to","textDecoration","imageContainer","ImageLoadingComponent","src","alt","image","loading","onLoad","onError","detailsContainer","iconContainer","value","isEdit","size","CardTemplete","data","cardContainer","length","map","book","name","autherName","photo","_id","CategoryCard","category","filterSubmitHandler","sortBy","categoryCard","initialValues","onSubmit","submitForm","handleChange","inputContainer","type","onChange","CategoryComponent","isCategory","setCategory","filterContainer","filterBtn","BooksPage","isComponentMount","React","useRef","useFetchApi","get","setData","error","setError","filters","filter","sort","join","res","FetchApiTemplete","bookPage"],"mappings":"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","file":"static/js/33.d97dbc4a.chunk.js","sourcesContent":["import React from 'react';\r\nimport style from './style.module.scss';\r\n\r\nexport default function Title({\r\n  title,\r\n  fontSize,\r\n  color,\r\n  responsive,\r\n  fontWeight,\r\n  ...props\r\n}) {\r\n  return (\r\n    <div\r\n      {...props}\r\n      className={responsive ? style.titleResponsive : style.title}\r\n      style={{ fontSize: fontSize, color: color, fontWeight: fontWeight }}>\r\n      {title}\r\n    </div>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"homePage\":\"style_homePage__3NPkk\",\"saveContainer\":\"style_saveContainer__i5EvO\",\"bookPage\":\"style_bookPage__q8YA5\",\"bookDetailContainer\":\"style_bookDetailContainer__fdJuX\",\"authCloseContainer\":\"style_authCloseContainer__eIw0x\",\"authContainer\":\"style_authContainer__2mmZw\",\"buttonContainer\":\"style_buttonContainer__p3sM2\",\"membershipPageContainer\":\"style_membershipPageContainer__3hgSq\",\"priceContainer\":\"style_priceContainer__3IuMf\",\"profileContainer\":\"style_profileContainer__wE-Cb\",\"pdfPageContainer\":\"style_pdfPageContainer__1aJoZ\",\"fileContainer\":\"style_fileContainer__2ItpE\",\"notFoundPageContainer\":\"style_notFoundPageContainer__29LIv\",\"icon\":\"style_icon__3sfgg\"};","import React from 'react';\r\nimport style from './style.module.scss';\r\nimport { IoBookmarkOutline, IoBookmark } from 'react-icons/io5';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { saveBook } from '../store/action/authAction';\r\nimport Axios from '../utils/Axios';\r\nexport default function BookMark({ bookId, toogler }) {\r\n  const dispatch = useDispatch();\r\n  const isLogin = useSelector((state) => state.auth.isLogin);\r\n  let isSave = useSelector((state) => state.auth.savedBooks.includes(bookId));\r\n  const bookmarkHanlder = async () => {\r\n    dispatch(saveBook(bookId));\r\n    toogler && toogler(bookId);\r\n    await Axios.post(`/users/saves/${bookId}`);\r\n  };\r\n\r\n  return isLogin ? (\r\n    isSave ? (\r\n      <IoBookmark className={style.bookMark} onClick={bookmarkHanlder} />\r\n    ) : (\r\n      <IoBookmarkOutline className={style.bookMark} onClick={bookmarkHanlder} />\r\n    )\r\n  ) : null;\r\n}\r\n","import React, { useState } from 'react';\r\nimport style from './style.module.scss';\r\nimport Rating from '../../assets/RatingAsset';\r\nimport { Link } from 'react-router-dom';\r\nimport Bookmark from '../../assets/BookmarkAsset';\r\nimport { useSelector } from 'react-redux';\r\nimport ImageLoadingComponent from '../models/ImageLoadingComponent';\r\nexport default function BookCard({\r\n  title,\r\n  imageURL,\r\n  auther,\r\n  rating,\r\n  id,\r\n  small,\r\n  toogler,\r\n}) {\r\n  const [isImageLoaded, setImageLoad] = useState(false);\r\n  let isSave = useSelector((state) =>\r\n    state.auth.savedBooks.some((e) => e === id)\r\n  );\r\n  const imageLoadingHandler = () => {\r\n    setImageLoad(true);\r\n  };\r\n  return (\r\n    <div className={small ? style.bookContainer_sm : style.bookContainer}>\r\n      <Link to={`/book/${id}`} style={{ textDecoration: 'none' }}>\r\n        <div className={style.imageContainer}>\r\n          <ImageLoadingComponent isImageLoaded={isImageLoaded} />\r\n          <img\r\n            src={imageURL}\r\n            alt='fail to load img '\r\n            className={style.image}\r\n            loading='lazy'\r\n            onLoad={imageLoadingHandler}\r\n            onError={imageLoadingHandler}\r\n          />\r\n        </div>\r\n      </Link>\r\n      <div className={style.detailsContainer}>\r\n        <Link to={`/book/${id}`} style={{ textDecoration: 'none' }}>\r\n          <span className={style.title}>{title}</span>\r\n          <span className={style.auther}>{auther}</span>\r\n        </Link>\r\n        <div className={style.iconContainer}>\r\n          <Rating value={rating} isEdit={false} size={small ? 16 : 25} />\r\n          <Bookmark isSave={isSave} bookId={id} toogler={toogler} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport style from './templete.module.scss';\r\nimport BookCard from '../component/bookComponent/BookCard';\r\nexport default function CardTemplete({ data, toogler }) {\r\n  return (\r\n    <div className={style.cardContainer}>\r\n      {data.length < 1 ? (\r\n        <span>No Book Data</span>\r\n      ) : (\r\n        data.map((book) => {\r\n          return (\r\n            <BookCard\r\n              key={book._id}\r\n              title={book.name}\r\n              auther={book.autherName}\r\n              imageURL={book.photo}\r\n              rating={book.rating}\r\n              id={book._id}\r\n              toogler={toogler}\r\n            />\r\n          );\r\n        })\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"categoryCard\":\"style_categoryCard__Cs5DR\",\"inputContainer\":\"style_inputContainer__37VWS\",\"filterContainer\":\"style_filterContainer__S9Vcx\",\"filterBtn\":\"style_filterBtn__2uBZd\"};","import React from 'react';\r\nimport { Form, Formik, Field } from 'formik';\r\nimport style from './style.module.scss';\r\nimport Title from '../../../../assets/TitleAsset';\r\n\r\nexport default function CategoryCard({ category, filterSubmitHandler }) {\r\n  const sortBy = [\r\n    {\r\n      id: 1,\r\n      name: '-releasedAt',\r\n      title: 'New Arrivals',\r\n    },\r\n    {\r\n      id: 2,\r\n      name: '-rating',\r\n      title: 'Most Rated',\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className={style.categoryCard}>\r\n      <Formik\r\n        initialValues={{\r\n          category: [],\r\n          sortBy: [],\r\n        }}\r\n        onSubmit={filterSubmitHandler}>\r\n        {({ submitForm, handleChange }) => {\r\n          return (\r\n            <Form className={style.inputContainer}>\r\n              <Title title='Sort By' fontSize='18px' />\r\n              {sortBy.map((e) => {\r\n                return (\r\n                  <label key={e.id}>\r\n                    <Field\r\n                      type='checkbox'\r\n                      onChange={(e) => {\r\n                        handleChange(e);\r\n                        submitForm();\r\n                      }}\r\n                      name='sort'\r\n                      value={e.name}\r\n                    />\r\n                    <span> {e.title}</span>\r\n                  </label>\r\n                );\r\n              })}\r\n              <Title title='Categories' fontSize='18px' />\r\n              {category &&\r\n                category.map((e) => {\r\n                  return (\r\n                    <label key={e._id}>\r\n                      <Field\r\n                        type='checkbox'\r\n                        onChange={(e) => {\r\n                          handleChange(e);\r\n                          submitForm();\r\n                        }}\r\n                        name='category'\r\n                        value={e.name}\r\n                      />\r\n                      <span> {e.title}</span>\r\n                    </label>\r\n                  );\r\n                })}\r\n            </Form>\r\n          );\r\n        }}\r\n      </Formik>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { IoFilter } from 'react-icons/io5';\r\nimport style from './style.module.scss';\r\nimport CategoryCard from './CategoryCard';\r\nexport default function CategoryComponent({ category, filterSubmitHandler }) {\r\n  const [isCategory, setCategory] = useState(true);\r\n  const categoryHandler = () => {\r\n    setCategory((e) => !e);\r\n  };\r\n\r\n  return (\r\n    <div className={style.filterContainer}>\r\n      <div className={style.filterBtn} onClick={categoryHandler}>\r\n        <IoFilter /> Filters\r\n      </div>\r\n      {isCategory && (\r\n        <CategoryCard\r\n          category={category}\r\n          filterSubmitHandler={filterSubmitHandler}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport style from '../style/style.module.scss';\r\nimport CardTemplete from '../../../templetes/CardTemplete';\r\nimport CategoryComponent from './components/CategoryComponent';\r\nimport { useFetchApi } from '../../../customHooks/useFetchApi';\r\nimport Axios from '../../../utils/Axios';\r\nimport FetchApiTemplete from '../../../templetes/FetchApiTemplete';\r\nexport default function BooksPage() {\r\n  const isComponentMount = React.useRef(true);\r\n  const getBooks = () => {\r\n    return Axios.get('/books');\r\n  };\r\n  const getCategory = () => {\r\n    return Axios.get('/categories');\r\n  };\r\n  const { data, setData, error, loading, setError } = useFetchApi(\r\n    [getBooks(), getCategory()],\r\n    isComponentMount\r\n  );\r\n  const filterSubmitHandler = async (filters) => {\r\n    try {\r\n      let filter = filters.category;\r\n      let sort = filters.sort;\r\n      sort = sort && sort.join();\r\n      filter = filter && filter.join();\r\n      const res = await Axios.get(`/books?category=${filter}&sort=${sort}`);\r\n      const { data } = res.data;\r\n      setData((e) => [data, e[1]]);\r\n    } catch (error) {\r\n      setError(true);\r\n    }\r\n  };\r\n  return (\r\n    <FetchApiTemplete loading={loading} error={error}>\r\n      <div className={style.bookPage}>\r\n        <CategoryComponent\r\n          category={data[1]}\r\n          filterSubmitHandler={filterSubmitHandler}\r\n        />\r\n        <div>\r\n          <CardTemplete title='Books' data={data[0]} />\r\n        </div>\r\n      </div>\r\n    </FetchApiTemplete>\r\n  );\r\n}\r\n"],"sourceRoot":""}