{"version":3,"sources":["assets/TitleAsset.jsx","assets/ButtonAsset.jsx","component/MyInputsComponent/styleInput.module.scss","pages/users/style/style.module.scss","assets/ProfileImageAssets.jsx","assets/BookmarkAsset.jsx","component/bookComponent/BooksDetailsCardContainer.jsx","component/MyInputsComponent/MyTextAreaInput.jsx","pages/users/bookDetail/components/style.module.scss","pages/users/bookDetail/components/DetailComponent.jsx","pages/users/bookDetail/components/ReviewsComponent.jsx","pages/users/bookDetail/components/ReviewReadComponent.jsx","pages/users/bookDetail/components/ReviewWriteComponent.jsx","pages/users/bookDetail/components/UserReviewComponent.jsx","pages/users/bookDetail/Detail.jsx"],"names":["Title","title","fontSize","color","responsive","fontWeight","props","className","style","titleResponsive","Button","isOutline","onClickFn","type","backgroundColor","textColor","styleObj","children","isSubmitting","outLineButton","button","background","disabled","onClick","height","width","toUpperCase","module","exports","ProfileImage","userForm","userName","name","useSelector","state","auth","profileImage_form","profileImage","charAt","BookMark","bookId","toogler","dispatch","useDispatch","isLogin","isSave","savedBooks","includes","bookmarkHanlder","a","saveBook","Axios","post","bookMark","BooksDetailsCardTemplete","bookDetailCardTempleteContainer","content","MyTextAreaInput","label","useField","field","meta","textAreaInputContainer","htmlFor","id","touched","error","inputErrorStyle","errorText","BookDetailsHeader","data","navigateBookFile","React","useState","isImageLoaded","setImageLoad","imageLoadHandler","bookDetailsHeaderContainer","imageContainer","ImageLoadingComponent","src","photo","alt","bookImage","onLoad","onError","auther","autherName","pages","_id","value","rating","size","isEdit","BooksDetailsCardContainer","description","UserComment","reviews","length","map","e","i","userCommentContainer","user","review","display","Date","createAt","toDateString","UserReivewCard","deleteHandler","setSubmitting","delete","ReviewCard","reviewHandler","isLoged","form","initialValues","validationSchema","Yup","required","onSubmit","setFieldValue","errors","values","reviewCardContainer","ratingContainer","onChange","placeholder","UserReviewComponent","setData","book","res","result","newState","concat","userReview","alert","window","confirm","filter","BookDetailPage","navigation","useParams","useHistory","push","location","subscriptionDetail","isSubscribed","now","expires_at","isComponentMounted","useRef","useFetchApi","get","loading","FetchApiTemplete","bookDetailContainer","pathname","path","message"],"mappings":"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","file":"static/js/21.93872e07.chunk.js","sourcesContent":["import React from 'react';\r\nimport style from './style.module.scss';\r\n\r\nexport default function Title({\r\n  title,\r\n  fontSize,\r\n  color,\r\n  responsive,\r\n  fontWeight,\r\n  ...props\r\n}) {\r\n  return (\r\n    <div\r\n      {...props}\r\n      className={responsive ? style.titleResponsive : style.title}\r\n      style={{ fontSize: fontSize, color: color, fontWeight: fontWeight }}>\r\n      {title}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport style from './style.module.scss';\r\nimport Loader from 'react-loader-spinner';\r\nexport default function Button({\r\n  title,\r\n  fontSize,\r\n  isOutline,\r\n  onClickFn,\r\n  type,\r\n  backgroundColor,\r\n  textColor,\r\n  styleObj,\r\n  children,\r\n  isSubmitting,\r\n  ...props\r\n}) {\r\n  return (\r\n    <button\r\n      {...props}\r\n      type={type}\r\n      className={isOutline ? style.outLineButton : style.button}\r\n      style={{\r\n        fontSize: fontSize,\r\n        background: backgroundColor,\r\n        color: textColor,\r\n\r\n        ...styleObj,\r\n      }}\r\n      disabled={isSubmitting}\r\n      onClick={onClickFn}>\r\n      {isSubmitting ? (\r\n        <Loader type='ThreeDots' color='white' height={15} width={50} />\r\n      ) : title ? (\r\n        title.toUpperCase()\r\n      ) : (\r\n        children\r\n      )}\r\n    </button>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputContainer\":\"styleInput_inputContainer__3Gj7T\",\"inputErrorStyle\":\"styleInput_inputErrorStyle__3eLpF\",\"errorText\":\"styleInput_errorText__39ApX\",\"selectInputContainer\":\"styleInput_selectInputContainer__39auF\",\"textAreaInputContainer\":\"styleInput_textAreaInputContainer__Q3qQd\",\"fileInputContainer\":\"styleInput_fileInputContainer__1LwNu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"homePage\":\"style_homePage__3NPkk\",\"saveContainer\":\"style_saveContainer__i5EvO\",\"bookPage\":\"style_bookPage__q8YA5\",\"bookDetailContainer\":\"style_bookDetailContainer__fdJuX\",\"authCloseContainer\":\"style_authCloseContainer__eIw0x\",\"authContainer\":\"style_authContainer__2mmZw\",\"buttonContainer\":\"style_buttonContainer__p3sM2\",\"membershipPageContainer\":\"style_membershipPageContainer__3hgSq\",\"priceContainer\":\"style_priceContainer__3IuMf\",\"profileContainer\":\"style_profileContainer__wE-Cb\",\"pdfPageContainer\":\"style_pdfPageContainer__1aJoZ\",\"fileContainer\":\"style_fileContainer__2ItpE\",\"notFoundPageContainer\":\"style_notFoundPageContainer__29LIv\",\"icon\":\"style_icon__3sfgg\"};","import React from 'react';\r\nimport style from './style.module.scss';\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport default function ProfileImage({ userForm, userName }) {\r\n  const { name } = useSelector((state) => state.auth);\r\n\r\n  return (\r\n    <div className={userForm ? style.profileImage_form : style.profileImage}>\r\n      <span>{userName ? userName.charAt(0) : name.charAt(0)}</span>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport style from './style.module.scss';\r\nimport { IoBookmarkOutline, IoBookmark } from 'react-icons/io5';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { saveBook } from '../store/action/authAction';\r\nimport Axios from '../utils/Axios';\r\nexport default function BookMark({ bookId, toogler }) {\r\n  const dispatch = useDispatch();\r\n  const isLogin = useSelector((state) => state.auth.isLogin);\r\n  let isSave = useSelector((state) => state.auth.savedBooks.includes(bookId));\r\n  const bookmarkHanlder = async () => {\r\n    dispatch(saveBook(bookId));\r\n    toogler && toogler(bookId);\r\n    await Axios.post(`/users/saves/${bookId}`);\r\n  };\r\n\r\n  return isLogin ? (\r\n    isSave ? (\r\n      <IoBookmark className={style.bookMark} onClick={bookmarkHanlder} />\r\n    ) : (\r\n      <IoBookmarkOutline className={style.bookMark} onClick={bookmarkHanlder} />\r\n    )\r\n  ) : null;\r\n}\r\n","import React from 'react';\r\nimport style from './style.module.scss';\r\nexport default function BooksDetailsCardTemplete({ title, children }) {\r\n  return (\r\n    <div className={style.bookDetailCardTempleteContainer}>\r\n      <div className={style.title}>{title}</div>\r\n      <div className={style.content}>{children}</div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useField } from 'formik';\r\nimport style from './styleInput.module.scss';\r\nexport default function MyTextAreaInput({ label, ...props }) {\r\n  const [field, meta] = useField(props);\r\n  return (\r\n    <div className={style.textAreaInputContainer}>\r\n      <label htmlFor={props.id || props.name}>{label}</label>\r\n      <textarea\r\n        className={meta.touched && meta.error ? style.inputErrorStyle : null}\r\n        {...field}\r\n        {...props}\r\n      />\r\n      {meta.touched && meta.error ? (\r\n        <span className={style.errorText}>{meta.error}</span>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reviewCardContainer\":\"style_reviewCardContainer__3l13U\",\"ratingContainer\":\"style_ratingContainer__1Mtmb\",\"errorText\":\"style_errorText__1d4Pr\",\"userCommentContainer\":\"style_userCommentContainer__2xXxG\",\"content\":\"style_content__3oxL4\",\"delete\":\"style_delete__5H8Im\",\"bookDetailsHeaderContainer\":\"style_bookDetailsHeaderContainer__3wzzX\",\"imageContainer\":\"style_imageContainer__1szfF\",\"bookImage\":\"style_bookImage__3x_km\"};","import React from 'react';\r\nimport style from './style.module.scss';\r\nimport Button from '../../../../assets/ButtonAsset';\r\nimport Title from '../../../../assets/TitleAsset';\r\nimport Rating from '../../../../assets/RatingAsset';\r\nimport Bookmark from '../../../../assets/BookmarkAsset';\r\nimport { useSelector } from 'react-redux';\r\nimport BooksDetailsCardContainer from '../../../../component/bookComponent/BooksDetailsCardContainer';\r\nimport ImageLoadingComponent from '../../../../component/models/ImageLoadingComponent';\r\nexport default function BookDetailsHeader({ data, navigateBookFile }) {\r\n  const [isImageLoaded, setImageLoad] = React.useState(false);\r\n  const imageLoadHandler = () => {\r\n    setImageLoad(true);\r\n  };\r\n  const isLogin = useSelector((state) => state.auth.isLogin);\r\n\r\n  return (\r\n    <>\r\n      <div className={style.bookDetailsHeaderContainer}>\r\n        <div className={style.imageContainer}>\r\n          <ImageLoadingComponent isImageLoaded={isImageLoaded} />\r\n          <img\r\n            src={data.photo}\r\n            alt='bImage'\r\n            className={style.bookImage}\r\n            onLoad={imageLoadHandler}\r\n            onError={imageLoadHandler}\r\n          />\r\n        </div>\r\n        <div>\r\n          <Title title={data.name} fontSize='25px' />\r\n          <span className={style.auther}>Author : {data.autherName}</span>\r\n          <span>Pages : {data.pages}</span>\r\n          {isLogin && (\r\n            <span>\r\n              save for later <Bookmark bookId={data._id} />\r\n            </span>\r\n          )}\r\n\r\n          <Rating value={data.rating} size={20} isEdit={false} />\r\n          <Button\r\n            styleObj={{ fontSize: '16px', width: '200px' }}\r\n            title='Read now'\r\n            fontSize='13px'\r\n            onClickFn={navigateBookFile}\r\n          />\r\n        </div>\r\n      </div>\r\n      <BooksDetailsCardContainer title='Overview'>\r\n        <span>{data.description}</span>\r\n      </BooksDetailsCardContainer>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport style from './style.module.scss';\r\nimport BooksDetailsCardContainer from '../../../../component/bookComponent/BooksDetailsCardContainer';\r\nimport Rating from '../../../../assets/RatingAsset';\r\nimport ProfileImage from '../../../../assets/ProfileImageAssets';\r\nexport default function UserComment({ data }) {\r\n  return (\r\n    <BooksDetailsCardContainer title='Reader Reviews'>\r\n      {data.reviews ? (\r\n        data.reviews.length < 1 ? (\r\n          <span>No reviews yet</span>\r\n        ) : (\r\n          data.reviews.map((e, i) => {\r\n            return (\r\n              <div key={i} className={style.userCommentContainer}>\r\n                <div>\r\n                  <ProfileImage userName={e.user.name} />\r\n                </div>\r\n                <div className={style.content}>\r\n                  <span>{e.user.name}</span>\r\n                  <Rating value={e.rating} isEdit={false} />\r\n                  <span>{e.review}</span>\r\n                  <span style={{ display: 'block', color: 'gray' }}>\r\n                    {new Date(e.createAt).toDateString()}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            );\r\n          })\r\n        )\r\n      ) : null}\r\n    </BooksDetailsCardContainer>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport style from './style.module.scss';\r\nimport BooksDetailsCardContainer from '../../../../component/bookComponent/BooksDetailsCardContainer';\r\nimport ProfileImage from '../../../../assets/ProfileImageAssets';\r\nimport Rating from '../../../../assets/RatingAsset';\r\nexport default function UserReivewCard({ review, deleteHandler }) {\r\n  const [isSubmitting, setSubmitting] = useState(false);\r\n  return (\r\n    <BooksDetailsCardContainer title='Your Review'>\r\n      <div className={style.userCommentContainer}>\r\n        <div>\r\n          <ProfileImage userName={review.user.name} />\r\n        </div>\r\n        <div className={style.content}>\r\n          <span>{review.user.name}</span>\r\n          <Rating value={review.rating} isEdit={false} />\r\n          <span>{review.review}</span>\r\n\r\n          <span style={{ display: 'block', color: 'gray' }}>\r\n            {new Date(review.createAt).toDateString()}\r\n            <button\r\n              disabled={isSubmitting}\r\n              className={style.delete}\r\n              onClick={() => {\r\n                deleteHandler(review._id, setSubmitting);\r\n              }}>\r\n              {isSubmitting ? <span>Deleting...</span> : <span>Delete</span>}\r\n            </button>\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </BooksDetailsCardContainer>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Form, Formik } from 'formik';\r\nimport MyTextAreaInput from '../../../../component/MyInputsComponent/MyTextAreaInput';\r\nimport * as Yup from 'yup';\r\nimport MyRating from '../../../../assets/RatingAsset';\r\nimport style from './style.module.scss';\r\nimport Button from '../../../../assets/ButtonAsset';\r\nimport BooksDetailsCardContainer from '../../../../component/bookComponent/BooksDetailsCardContainer';\r\nimport { useSelector } from 'react-redux';\r\nexport default function ReviewCard({ reviewHandler }) {\r\n  const isLoged = useSelector((state) => state.auth.isLogin);\r\n  let form = <span>Login to add your reviews</span>;\r\n  if (isLoged) {\r\n    form = (\r\n      <Formik\r\n        initialValues={{\r\n          rating: 0,\r\n          review: '',\r\n        }}\r\n        validationSchema={Yup.object({\r\n          review: Yup.string().required('Write Your review'),\r\n          rating: Yup.number().required(),\r\n        })}\r\n        onSubmit={reviewHandler}>\r\n        {({ setFieldValue, errors, values, isSubmitting }) => {\r\n          return (\r\n            <Form className={style.reviewCardContainer}>\r\n              <div className={style.ratingContainer}>\r\n                <span>your rating*</span>\r\n                <MyRating\r\n                  isEdit={true}\r\n                  size={20}\r\n                  name='rating'\r\n                  value={values.rating}\r\n                  onChange={(e) => {\r\n                    setFieldValue('rating', e);\r\n                  }}\r\n                />\r\n                {errors.rating && (\r\n                  <span className={style.errorText}>*{errors.rating}</span>\r\n                )}\r\n              </div>\r\n              <MyTextAreaInput\r\n                name='review'\r\n                placeholder='Write your comment  '\r\n              />\r\n              <div>\r\n                <Button\r\n                  title='Submit'\r\n                  type='submit'\r\n                  fontSize='18px'\r\n                  isSubmitting={isSubmitting}\r\n                />\r\n              </div>\r\n            </Form>\r\n          );\r\n        }}\r\n      </Formik>\r\n    );\r\n  }\r\n  return (\r\n    <BooksDetailsCardContainer title='Write your review'>\r\n      {form}\r\n    </BooksDetailsCardContainer>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReviewReadComponent from './ReviewReadComponent';\r\nimport ReviewWriteComponent from './ReviewWriteComponent';\r\nimport Axios from '../../../../utils/Axios';\r\n\r\nexport default function UserReviewComponent({ data, setData }) {\r\n  const reviewHandler = async (values, { setSubmitting }) => {\r\n    try {\r\n      setSubmitting(true);\r\n      const res = await Axios.post('/reviews/', {\r\n        book: data._id,\r\n        review: values.review,\r\n        rating: values.rating,\r\n      });\r\n      const result = res.data.data;\r\n      let newState = [\r\n        {\r\n          ...data,\r\n          reviews: data.reviews.concat(result),\r\n          userReview: result,\r\n        },\r\n      ];\r\n      setData(newState);\r\n      setSubmitting(false);\r\n    } catch (error) {\r\n      setSubmitting(false);\r\n      alert('Something went wrong try again');\r\n    }\r\n  };\r\n  const deleteHandler = async (id, setSubmitting) => {\r\n    try {\r\n      const isOk = window.confirm('Are you sure?');\r\n      if (!isOk) {\r\n        return;\r\n      }\r\n      await Axios.delete(`/reviews/${id}`);\r\n      setSubmitting(true);\r\n      let newState = [\r\n        {\r\n          ...data,\r\n          reviews: data.reviews.filter((e) => e._id !== id),\r\n          userReview: null,\r\n        },\r\n      ];\r\n      setData(newState);\r\n    } catch (error) {\r\n      alert('Something went wrong. Try Again');\r\n    }\r\n  };\r\n  return data.userReview ? (\r\n    <ReviewReadComponent\r\n      review={data.userReview}\r\n      deleteHandler={deleteHandler}\r\n    />\r\n  ) : (\r\n    <ReviewWriteComponent reviewHandler={reviewHandler} />\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport style from '../style/style.module.scss';\r\nimport DetailComponent from './components/DetailComponent';\r\nimport ReviewsComponent from './components/ReviewsComponent';\r\nimport UserReviewComponent from './components/UserReviewComponent';\r\nimport Axios from '../../../utils/Axios';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useFetchApi } from '../../../customHooks/useFetchApi';\r\nimport FetchApiTemplete from '../../../templetes/FetchApiTemplete';\r\nimport { useSelector } from 'react-redux';\r\nexport default function BookDetailPage({ navigation }) {\r\n  const { id } = useParams();\r\n  const { push, location } = useHistory();\r\n  const isLogin = useSelector((state) => state.auth.isLogin);\r\n  const subscriptionDetail = useSelector(\r\n    (state) => state.auth.subscriptionDetail\r\n  );\r\n  const isSubscribed = !subscriptionDetail\r\n    ? false\r\n    : Date.now() <= new Date(subscriptionDetail.expires_at);\r\n  const getBookDetails = () => {\r\n    return Axios.get(`/books/${id}`);\r\n  };\r\n  const isComponentMounted = React.useRef(true);\r\n  const { data, loading, error, setData } = useFetchApi(\r\n    [getBookDetails()],\r\n    isComponentMounted\r\n  );\r\n\r\n  const navigateBookFile = () => {\r\n    if (!isLogin) {\r\n      push({\r\n        pathname: '/access/login',\r\n        state: {\r\n          path: location.pathname,\r\n          message: 'Login To Get Access',\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!isSubscribed) {\r\n      push({\r\n        pathname: '/membership',\r\n        state: {\r\n          path: location.pathname,\r\n          message: 'get membership to get access',\r\n        },\r\n      });\r\n      return;\r\n    }\r\n    push(`/book/view/${id}`);\r\n  };\r\n\r\n  return (\r\n    <FetchApiTemplete loading={loading} error={error}>\r\n      <div className={style.bookDetailContainer}>\r\n        <DetailComponent data={data[0]} navigateBookFile={navigateBookFile} />\r\n        <UserReviewComponent data={data[0]} setData={setData} />\r\n        <ReviewsComponent data={data[0]} />\r\n      </div>\r\n    </FetchApiTemplete>\r\n  );\r\n}\r\n"],"sourceRoot":""}